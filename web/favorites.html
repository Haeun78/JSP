<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>찜 목록</title>
  <link rel="stylesheet" href="css/mypage_main.css" />
  <link rel="stylesheet" href="css/favorites.css" />
</head>
<body>

<!-- ✅ 상단바 -->
<div class="top-bar">
  <a href="#">로그아웃</a>
  <a href="customer_service_main.html">고객센터</a>
  <a href="mypage_main.html">마이페이지</a>
</div>

<!-- ✅ 네비게이션 -->
<div class="main-nav">
  <a href="index.html" class="logo">책광장모두</a>
  <div class="menu">
    <a href="#">분야별 도서</a>
    <a href="#">독서기록장</a>
    <a href="#">역대수상작</a>
    <a href="#">이벤트소식</a>
    <a href="#">공지사항</a>
  </div>
  <div class="search">
    <input type="text" placeholder="검색어를 입력하세요" />
    <button>검색</button>
  </div>
</div>

<div class="container">
  <!-- ✅ 마이페이지 사이드바 -->
  <div class="sidebar">
    <a href="mypage_main.html"><h3>마이페이지</h3></a>
    <ul>
      <li><a href="edit_profile_page.html">회원정보수정</a></li>
      <li><a href="payment.html">적립금 내역</a></li>
      <li><a href="cart_view.html">장바구니</a></li>
      <li><a href="order_list.html">주문/배송내역</a></li>
      <li><a href="address_manage.html">배송지 관리</a></li>
      <li><a href="favorites.html">찜 목록</a></li>
      <li><a href="myrecode_book.html">작성글 관리</a></li>
      <li><a href="one_to_one_list.html">1:1 문의</a></li>
    </ul>
  </div>

  <!-- ✅ 본문 콘텐츠 -->
  <div class="content">
    <h2>찜 목록</h2>

    <!-- ✅ 상단 전체선택/삭제/장바구니 영역 -->
    <div class="favorites-actions">
      <input type="checkbox" id="selectAll" />
      <span id="selectedCount">0개 선택</span>
      <button onclick="deleteSelected()">선택 삭제</button>
      <button onclick="addToCart()">장바구니 담기</button>
    </div>

    <!-- ✅ 찜 목록 리스트 -->
    <div class="favorites-list">

      <!-- ✅ 항목 1 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">빛과 실</div>
          <div class="item-author">한강 | 문학과지성사</div>
          <div class="item-price">13500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 2 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">불편한 편의점</div>
          <div class="item-author">김호연 | 나무옆의자</div>
          <div class="item-price">13200원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 3 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">달러구트 꿈 백화점</div>
          <div class="item-author">이미예 | 팩토리나인</div>
          <div class="item-price">14500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 4 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 5 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 6 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 7 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 8 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 9 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 10 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

      <!-- ✅ 항목 11 -->
      <div class="favorite-item">
        <input type="checkbox" class="item-check" />
        <img src="image/이미지 샘플.png" alt="책 이미지" class="item-img" />
        <div class="item-info">
          <div class="item-title">작별인사</div>
          <div class="item-author">김영하 | 복복서가</div>
          <div class="item-price">12500원</div>
        </div>
        <button class="delete-btn">삭제</button>
      </div>

    </div>
  </div>
</div>

<!-- ✅ 선택 기능 스크립트 -->
<script>
  const selectAll = document.getElementById("selectAll");
  const selectedCount = document.getElementById("selectedCount");
  let allItems = Array.from(document.querySelectorAll(".favorite-item"));
  const itemsPerPage = 10;
  let currentPage = 1;

  // 페이지 하단에 네비게이션 추가
  const paginationContainer = document.createElement("div");
  paginationContainer.className = "favorites-pagination";
  const prevBtn = document.createElement("button");
  prevBtn.textContent = "이전";
  const nextBtn = document.createElement("button");
  nextBtn.textContent = "다음";
  const pageInfo = document.createElement("span");
  paginationContainer.appendChild(prevBtn);
  paginationContainer.appendChild(pageInfo);
  paginationContainer.appendChild(nextBtn);
  document.querySelector(".content").appendChild(paginationContainer);

  function updateCount() {
    const count = Array.from(document.querySelectorAll(".favorite-item input:checked")).length;
    selectedCount.textContent = `${count}개 선택`;
  }

  selectAll.addEventListener("change", function () {
    const currentVisible = document.querySelectorAll(".favorite-item");
    currentVisible.forEach(c => c.querySelector("input").checked = this.checked);
    updateCount();
  });

  function renderPage(page) {
    const start = (page - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    allItems.forEach((item, idx) => {
      item.style.display = (idx >= start && idx < end) ? "flex" : "none";
    });
    pageInfo.textContent = ` ${page} / ${Math.ceil(allItems.length / itemsPerPage)} `;
    prevBtn.disabled = page === 1;
    nextBtn.disabled = page === Math.ceil(allItems.length / itemsPerPage);
    updateCount();
  }

  prevBtn.addEventListener("click", () => {
    if (currentPage > 1) {
      currentPage--;
      renderPage(currentPage);
    }
  });

  nextBtn.addEventListener("click", () => {
    if (currentPage < Math.ceil(allItems.length / itemsPerPage)) {
      currentPage++;
      renderPage(currentPage);
    }
  });

  checkboxes.forEach(chk => {
    chk.addEventListener("change", updateCount);
  });

  function deleteSelected() {
    allItems.forEach(item => {
      if (item.querySelector("input").checked) {
        item.remove();
      }
    });
    allItems = Array.from(document.querySelectorAll(".favorite-item"));
    renderPage(currentPage);
  }

  function addToCart() {
    const selected = Array.from(document.querySelectorAll(".favorite-item input:checked"));
    if (selected.length === 0) {
      alert("선택된 항목이 없습니다.");
    } else {
      alert(`${selected.length}개 항목이 장바구니에 담겼습니다. (DB 연동 예정)`);
    }
  }

  renderPage(currentPage);
</script>


</body>
</html>
